"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[290],{8290:function(s,e,t){t.r(e),t.d(e,{default:function(){return es}});var r=t(5671),n=t(3144),i=t(136),o=t(5716),a=t(2791),l=t(885),c="ProfileInfo_profileInfo__a2cho",u="ProfileInfo_mainPhoto__Ss1YJ",d="ProfileInfo_descriptionBlock__lSNJt",f="ProfileInfo_avatarBlock__MiB-J",h="ProfileInfo_avatar__NjXDb",p="ProfileInfo_circle__QEhyx",m="ProfileInfo_personalInfo__XpgUu",j="ProfileInfo_contacts__h3YlF",x="ProfileInfo_contact__+1sST",v=t(1920),_=t(6682),P=t(184),k=function(s){var e=(0,a.useState)(!1),t=(0,l.Z)(e,2),r=t[0],n=t[1],i=(0,a.useState)(s.status),o=(0,l.Z)(i,2),c=o[0],u=o[1];(0,a.useEffect)((function(){u(s.status)}),[s.status]);var d=function(){n(!1),s.updateStatus(c.trim())};return(0,P.jsxs)(P.Fragment,{children:[!r&&(0,P.jsx)("div",{children:(0,P.jsx)("span",{onDoubleClick:function(){return s.isOwner&&n(!0)},style:{wordWrap:"break-word"},children:(0,P.jsx)("i",{children:s.status||"--------"})})}),r&&(0,P.jsx)("div",{children:(0,P.jsx)("input",{value:c,onBlur:d,autoFocus:!0,onChange:function(s){u(s.currentTarget.value)},onKeyDown:function(s){"Enter"===s.key&&d()}})})]})},b=t(1117),g=t(704),N=t(9234),y=t(4954),I={profileForm:"ProfileDataForm_profileForm__BEh5I"},S=(0,g.Z)({form:"edit-profile"})((function(s){var e=s.handleSubmit,t=s.initialValues,r=s.error;return(0,P.jsxs)("form",{onSubmit:e,className:I.profileForm,children:[(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Full name: "})," ",(0,b.Gr)("Full name","fullName",[],b.II,"input")]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Looking for a job: "}),(0,b.Gr)("","lookingForAJob",[],b.II,"input",{type:"checkbox"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My skills: "}),(0,b.Gr)("My skills","lookingForAJobDescription",[],b.II,"input")]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me: "}),(0,b.Gr)("About me","aboutMe",[],b.II,"input")]}),(0,P.jsx)(y.z,{title:"Save"})]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Contacts"}),": ",t.contacts&&Object.keys(t.contacts).map((function(s){return(0,P.jsxs)("div",{className:I.contact,children:[(0,b.Gr)(s,"contacts."+s,[],b.II,"input"),(0,P.jsxs)("b",{children:[" ",s]})]},s)})),r&&(0,P.jsx)("div",{className:N.Z.formSummaryError,children:r})]})]})})),C=t(6470),M=t(6856),w=function(s){var e=s.isOwner,t=s.profile,r=s.status,n=s.updateStatus,i=s.saveMainPhoto,o=s.saveProfile,m=(0,a.useState)(!1),j=(0,l.Z)(m,2),x=j[0],k=j[1],b=(0,a.useRef)(null);if(!t)return(0,P.jsx)(_.p,{inside:!0});return(0,P.jsxs)("div",{className:c,children:[(0,P.jsx)("img",{src:"".concat(C),alt:"field",className:u}),(0,P.jsxs)("div",{className:d,children:[(0,P.jsxs)("div",{className:f,children:[(0,P.jsx)("img",{src:t.photos.large||v,alt:"user",className:h}),e&&(0,P.jsx)("div",{className:p,children:(0,P.jsx)(M.Jqu,{onClick:function(){var s;b&&(null===(s=b.current)||void 0===s||s.click())}})}),e&&(0,P.jsx)("input",{type:"file",ref:b,onChange:function(s){s.target.files&&i(s.target.files[0])},style:{display:"none"}})]}),x?(0,P.jsx)(S,{initialValues:t,onSubmit:function(s){o(s).then((function(){k(!1)}))}}):(0,P.jsx)(F,{profile:t,isOwner:e,status:r,updateStatus:n,turnOnEditMode:function(){return k(!0)}})]})]})},F=function(s){var e=s.profile,t=s.isOwner,r=s.status,n=s.updateStatus,i=s.turnOnEditMode;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)("div",{className:m,children:[(0,P.jsx)("h3",{children:e.fullName}),(0,P.jsx)(k,{status:r,isOwner:t,updateStatus:n}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"Available for hire:"})," ",e.lookingForAJob?"yes":"no"]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"My skills:"})," ",e.lookingForAJobDescription]}),(0,P.jsxs)("div",{children:[(0,P.jsx)("b",{children:"About me:"})," ",e.aboutMe]}),t&&(0,P.jsx)(y.z,{title:"Edit profile",callback:i})]}),e.contacts&&Object.values(e.contacts).some((function(s){return null!==s}))&&(0,P.jsxs)("div",{className:j,children:[(0,P.jsx)("h3",{children:"Follow me"})," ",e.contacts&&Object.keys(e.contacts).map((function(s){return e.contacts&&null!==e.contacts[s]&&""!==e.contacts[s].trim()?(0,P.jsx)(T,{contactTitle:s,contactValue:e.contacts[s]},s):null}))]})]})},T=function(s){var e=s.contactTitle,t=s.contactValue;return(0,P.jsxs)("div",{className:x,children:[(0,P.jsxs)("b",{children:[e,":"]})," ",(0,P.jsx)("a",{href:t,target:"_blank",rel:"noreferrer",children:t})]})},A="MyPosts_postsBlock__kSB2G",O="MyPosts_postBg__DiD3Q",Z="MyPosts_newPost__Z9BTp",D="MyPosts_posts__g8lvX",B={post:"Post_post__U+fYG",user:"Post_user__k1lel",message:"Post_message__o+44O",bottomBlock:"Post_bottomBlock__AjfeS",like:"Post_like__WW21-",basket:"Post_basket__LujN6"},U=t(8820),E=function(s){return(0,P.jsxs)("div",{className:B.post,children:[(0,P.jsxs)("div",{className:B.user,children:[(0,P.jsx)("img",{alt:"user",src:s.avatar||v,className:B.avatar}),(0,P.jsx)("h3",{children:s.name||"Marty Wilson"})]}),(0,P.jsx)("div",{className:B.message,children:s.message}),(0,P.jsxs)("div",{className:B.bottomBlock,children:[(0,P.jsx)(U.M_L,{className:B.like}),(0,P.jsx)("p",{children:s.likesCount}),(0,P.jsx)(U.YK6,{className:B.basket,onClick:function(){return s.deletePost(s.id)}})]})]})},G=t(6139),J=t(3079),W="PostsForm_form__9dBIR",z="PostsForm_btnWrapper__xYhZO",Y=(0,J.D)(100),V=(0,g.Z)({form:"profileAddPostReduxForm"})((function(s){return(0,P.jsxs)("form",{onSubmit:s.handleSubmit,className:W,children:[(0,P.jsx)("div",{children:(0,P.jsx)(G.Z,{name:"newPostText",placeholder:"write a post",component:b.gx,validate:[Y],FieldType:"textarea"})}),(0,P.jsx)("div",{className:z,children:(0,P.jsx)(y.z,{title:"Add post"})})]})})),X=a.memo((function(s){var e=s.posts.map((function(e){return(0,P.jsx)(E,{id:e.id,message:e.message,likesCount:e.likesCount,name:s.name,avatar:s.avatar,deletePost:s.deletePost},e.id)}));return(0,P.jsxs)("div",{className:A,children:[(0,P.jsxs)("div",{className:O,children:[(0,P.jsx)("h3",{children:"What's new?"}),(0,P.jsx)("div",{className:Z,children:(0,P.jsx)(V,{onSubmit:function(e){""!==e.newPostText.trim()&&s.addPost(e.newPostText)}})})]}),(0,P.jsx)("div",{className:D,children:e})]})})),$=t(81),q=t(364),L=(0,q.$j)((function(s){var e,t,r;return{posts:s.profilePage.posts,avatar:null===(e=s.profilePage.profile)||void 0===e||null===(t=e.photos)||void 0===t?void 0:t.small,name:null===(r=s.profilePage.profile)||void 0===r?void 0:r.fullName}}),(function(s){return{addPost:function(e){return s((0,$.Mq)(e))},deletePost:function(e){return s((0,$.Uc)(e))}}}))(X),R=function(s){var e=s.isOwner,t=s.profile,r=s.status,n=s.updateStatus,i=s.saveMainPhoto,o=s.saveProfile;return(0,P.jsxs)("div",{children:[(0,P.jsx)(w,{isOwner:e,profile:t,status:r,updateStatus:n,saveMainPhoto:i,saveProfile:o}),(0,P.jsx)(L,{})]})},K=t(9271),Q=t(7781),H=t(2932),ss=function(s){(0,i.Z)(t,s);var e=(0,o.Z)(t);function t(){return(0,r.Z)(this,t),e.apply(this,arguments)}return(0,n.Z)(t,[{key:"refreshProfile",value:function(){var s,e=null!==(s=this.props.match.params.userId)&&void 0!==s?s:this.props.authorizedUserId;e||this.props.history.push("/login"),this.props.getUserProfileTC(Number(e)),this.props.getUserStatusThunkCreator(Number(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(s,e,t){this.props.match.params.userId!==s.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return(0,P.jsx)(R,{isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateUserStatusThunkCreator,saveMainPhoto:this.props.saveMainPhotoTC,saveProfile:this.props.saveProfileTC})}}]),t}(a.Component),es=(0,Q.qC)((0,q.$j)((function(s){return{profile:s.profilePage.profile,status:s.profilePage.status,authorizedUserId:s.auth.id}}),{getUserProfileTC:$.d$,getUserStatusThunkCreator:$.fG,updateUserStatusThunkCreator:$.X8,saveMainPhotoTC:$.D3,saveProfileTC:$.Ms}),K.EN,H.D)(ss)},2932:function(s,e,t){t.d(e,{D:function(){return u}});var r=t(1413),n=t(5987),i=(t(2791),t(9271)),o=t(364),a=t(184),l=["isAuth"],c=function(s){return{isAuth:s.auth.isAuth}};function u(s){return(0,o.$j)(c)((function(e){var t=e.isAuth,o=(0,n.Z)(e,l);return t?(0,a.jsx)(s,(0,r.Z)({},o)):(0,a.jsx)(i.l_,{to:"/login"})}))}},6470:function(s,e,t){s.exports=t.p+"static/media/Cover_Sri.d9425149195361535cf4.jpg"}}]);
//# sourceMappingURL=290.e23bb6a0.chunk.js.map